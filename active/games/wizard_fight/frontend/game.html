<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wizard Fight ‚Äî Game</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app" id="game-screen">
      <header class="top-bar">
        <div class="title">
          <h1>Wizard Fight</h1>
          <p>Lobby: <span id="lobby-id">-</span></p>
          <p>Player: <span id="player-id">-</span></p>
          <p class="mode-status" id="mode-status"></p>
          <a class="back-link" href="/">‚Üê Back</a>
        </div>
        <div class="hud">
          <div>
            <h2>Wizard 0</h2>
            <p>HP: <span id="wiz0-hp">-</span></p>
            <p>Mana: <span id="wiz0-mana">-</span></p>
          </div>
          <div>
            <h2>Wizard 1</h2>
            <p>HP: <span id="wiz1-hp">-</span></p>
            <p>Mana: <span id="wiz1-mana">-</span></p>
          </div>
        </div>
        <div class="actions">
          <div class="action-row">
            <button id="cast-baseline">üßô‚Äç‚ôÇÔ∏è Summon Flying Monkey</button>
          </div>
          <div class="action-row">
            <input id="research-input" placeholder="study spells about..." />
            <button id="research-button">üìö Research</button>
          </div>
          <p id="research-status"></p>
        </div>
        <div class="spectator">
          <h2>Spectate</h2>
          <div class="action-row">
            <input id="spectate-input" placeholder="paste lobby id" />
            <button id="spectate-button">üëÅÔ∏è Watch</button>
          </div>
        </div>
      </header>

      <main class="battlefield">
        <div id="playfield" class="playfield"></div>
      </main>

      <section class="spellbook">
        <h2>Spellbook</h2>
        <ul id="spell-list"></ul>
      </section>

      <section class="spell-lab" id="spell-lab">
        <div class="spell-lab-header">
          <h2>Spell Lab</h2>
          <span class="spell-lab-backend" id="spell-lab-backend">LLM: -</span>
        </div>
        <p class="spell-meta">Generate a spell without joining a match. Saved to the spellbook.</p>
        <div class="action-row">
          <input id="spell-lab-input" placeholder="try a creative prompt..." />
          <button id="spell-lab-button">‚ú® Generate</button>
        </div>
        <p class="spell-meta" id="spell-lab-status"></p>
        <div class="spell-lab-output">
          <div>
            <h3>Name</h3>
            <p id="spell-lab-name">-</p>
          </div>
          <div>
            <h3>Description</h3>
            <p id="spell-lab-description">-</p>
          </div>
          <div>
            <h3>DSL</h3>
            <pre id="spell-lab-dsl"></pre>
          </div>
        </div>
      </section>

      <section class="log">
        <p>Time: <span id="time">-</span>s</p>
        <p>Units: <span id="unit-count">0</span></p>
      </section>

      <section class="log" id="debug-panel">
        <p><strong>Debug</strong></p>
        <p>Socket: <span id="dbg-socket">-</span></p>
        <p>Mode: <span id="dbg-mode">-</span></p>
        <p>Lobby: <span id="dbg-lobby">-</span></p>
        <p>Player: <span id="dbg-player">-</span></p>
        <p>Tick #: <span id="dbg-ticks">0</span></p>
        <p>Last tick: <span id="dbg-last-tick">-</span></p>
        <p>Researching: <span id="dbg-researching">-</span></p>
        <p>New spells (last): <span id="dbg-new-spells">0</span></p>
        <p>Units: <span id="dbg-units">0</span></p>
        <p>W0 HP/Mana: <span id="dbg-w0">-</span></p>
        <p>W1 HP/Mana: <span id="dbg-w1">-</span></p>
      </section>
    </div>

    <script type="module" src="app.js"></script>
    <script type="module" src="game.js"></script>
    <script type="module" src="logger.js"></script>
  </body>
</html>
